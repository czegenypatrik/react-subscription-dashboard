import{a as m,j as e,l as j}from"./index-C-Mnn3MD.js";import{b as f,c,a as w}from"./index.esm-CGik3yLD.js";import{C as g}from"./CRow-DzO9hZLE.js";import{C as y}from"./CCol-B-jG07UM.js";import{C as b}from"./CCard-COCFAoZr.js";import{C as N}from"./CCardBody-ec6MiftD.js";import{C as v}from"./CForm-Cb0SRdbY.js";import{C as o,a as t}from"./CInputGroupText-ZWQqiE1I.js";import{c as P}from"./cil-user-Ddrdy7PS.js";import{C as n}from"./CFormInput-CyG7OHwE.js";import{c as x}from"./cil-lock-locked-DmxpJbVL.js";const D=()=>{const[s,h]=m.useState({username:"",email:"",password:"",confirmPassword:""}),[i,l]=m.useState(null),[d,u]=m.useState(null),a=r=>{h({...s,[r.target.name]:r.target.value})},C=async r=>{if(r.preventDefault(),l(null),u(null),s.password!==s.confirmPassword){l("Passwords do not match");return}const{data:R,error:p}=await j.auth.signUp({email:s.email,password:s.password,options:{data:{username:s.username}}});p?l(p.message):u("Registration successful! Please check your email to confirm.")};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(f,{children:e.jsx(g,{className:"justify-content-center",children:e.jsx(y,{md:9,lg:7,xl:6,children:e.jsx(b,{className:"mx-4",children:e.jsx(N,{className:"p-4",children:e.jsxs(v,{onSubmit:C,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),i&&e.jsx("p",{className:"text-danger",children:i}),d&&e.jsx("p",{className:"text-success",children:d}),e.jsxs(o,{className:"mb-3",children:[e.jsx(t,{children:e.jsx(c,{icon:P})}),e.jsx(n,{name:"username",placeholder:"Username",autoComplete:"username",value:s.username,onChange:a,required:!0})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(t,{children:"@"}),e.jsx(n,{name:"email",type:"email",placeholder:"Email",autoComplete:"email",value:s.email,onChange:a,required:!0})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(t,{children:e.jsx(c,{icon:x})}),e.jsx(n,{name:"password",type:"password",placeholder:"Password",autoComplete:"new-password",value:s.password,onChange:a,required:!0})]}),e.jsxs(o,{className:"mb-4",children:[e.jsx(t,{children:e.jsx(c,{icon:x})}),e.jsx(n,{name:"confirmPassword",type:"password",placeholder:"Repeat password",autoComplete:"new-password",value:s.confirmPassword,onChange:a,required:!0})]}),e.jsx("div",{className:"d-grid",children:e.jsx(w,{type:"submit",color:"success",children:"Create Account"})})]})})})})})})})};export{D as default};
