var D=Object.defineProperty;var T=(t,s,a)=>s in t?D(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;var C=(t,s,a)=>T(t,typeof s!="symbol"?s+"":s,a);import{a as n,j as e,l as N}from"./index-C-Mnn3MD.js";import{a as W,c as g}from"./index.esm-CGik3yLD.js";import{C as F}from"./CForm-Cb0SRdbY.js";import{C as B}from"./CFormInput-CyG7OHwE.js";import{C as I,a as L,b as p,c as m,d as G,e as d}from"./CTable-DZk3Y4gs.js";import{c as H}from"./cil-user-Ddrdy7PS.js";import{c as $,C as y}from"./cil-user-female-DCoSLIfc.js";import{C as b}from"./CCard-COCFAoZr.js";import{C as w}from"./CCardBody-ec6MiftD.js";import{C as S}from"./CRow-DzO9hZLE.js";const k=()=>{const[t,s]=n.useState(null),[a,h]=n.useState(!0),[o,x]=n.useState(null);n.useEffect(()=>{if(!navigator.geolocation){x("Geolocation is not supported by your browser."),h(!1);return}navigator.geolocation.getCurrentPosition(i=>{const{latitude:l,longitude:f}=i.coords;j(l,f)},i=>{x(i.message),h(!1)})},[]);const j=async(i,l)=>{const v=`https://api.weatherapi.com/v1/current.json?key=6daf034947e34b7bbde202602250108&q=${i},${l}&aqi=no&`;try{const u=await fetch(v);if(!u.ok)throw new Error("Failed to fetch weather data");const E=await u.json();s(E)}catch(u){x(u.message)}finally{h(!1)}};if(a)return e.jsx("div",{children:"Loading weather..."});if(o)return e.jsxs("div",{children:["Error: ",o]});const r=t.current,c=t.location;return e.jsxs("div",{children:[e.jsxs("h3",{children:["Weather in ",c.name,", ",c.country]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Temperature:"})," ",r.temp_c," °C"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Condition:"})," ",r.condition.text]}),e.jsx("img",{src:r.condition.icon,alt:r.condition.text}),e.jsxs("p",{children:[e.jsx("strong",{children:"Humidity:"})," ",r.humidity,"%"]})]})};function q(){const[t,s]=n.useState([]),[a,h]=n.useState(""),[o,x]=n.useState("");n.useEffect(()=>{async function r(){let c=N.from("Members").select();o.trim()!==""&&(c=c.ilike("Name",`%${o}%`));const{data:i,error:l}=await c;if(l){console.error("Error fetching members:",l),s([]);return}s(i||[])}r()},[o]);const j=r=>{r.preventDefault(),x(a)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{justifyItems:"right"},children:e.jsxs(F,{onSubmit:j,className:"mb-3 d-flex",style:{gap:"10px",maxWidth:"400px"},children:[e.jsx(B,{type:"text",id:"search",placeholder:"Enter name",value:a,onChange:r=>h(r.target.value)}),e.jsx(W,{type:"submit",color:"primary",children:"Search"})]})}),e.jsxs(I,{striped:!0,hover:!0,responsive:!0,children:[e.jsx(L,{children:e.jsxs(p,{children:[e.jsx(m,{children:"Name"}),e.jsx(m,{children:"Birthday"}),e.jsx(m,{children:"Email"}),e.jsx(m,{children:"Joined Date"}),e.jsx(m,{children:"Gender"})]})}),e.jsx(G,{children:t.length===0?e.jsx(p,{children:e.jsx(d,{colSpan:5,className:"text-center",children:"No members found."})}):t.map(r=>e.jsxs(p,{children:[e.jsx(d,{children:r.Name}),e.jsx(d,{children:new Date(r.Birthday).toLocaleDateString()}),e.jsx(d,{children:r.Email||"-"}),e.jsx(d,{children:new Date(r.JoinedDate).toLocaleDateString()}),e.jsx(d,{children:r.Gender==="Férfi"?e.jsx(g,{icon:H}):r.Gender==="Nő"?e.jsx(g,{icon:$}):"-"})]},r.Id))})]})]})}class M extends n.Component{render(){return e.jsxs(e.Fragment,{children:[e.jsxs(b,{className:"mb-4",children:[e.jsx(y,{children:"Weather Widget"}),e.jsx(w,{children:e.jsx(S,{children:e.jsx(k,{})})})]}),e.jsxs(b,{className:"mb-4",children:[e.jsx(y,{children:"List of DB stuff"}),e.jsx(w,{children:e.jsx(S,{children:e.jsx(q,{})})})]})]})}}C(M,"propTypes",{});export{M as default,M as sample1};
